<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.geek.mapper.TaskMapper">

    <resultMap id="Task" type="com.geek.entity.Task">
        <result column="task_id" property="task_id" jdbcType ="VARCHAR"/>
        <result column="u_id" property="u_id" jdbcType ="VARCHAR"/>
        <result column="taskTitle" property="taskTitle" jdbcType ="VARCHAR"/>
        <result column="taskType" property="taskType" jdbcType ="VARCHAR"/>
        <result column="taskRequire" property="taskRequire" jdbcType ="VARCHAR"/>
        <result column="taskDescribe" property="taskDescribe" jdbcType ="VARCHAR"/>
        <result column="reward" property="reward" jdbcType ="INTEGER"/>
        <result column="taskState" property="taskState" jdbcType ="INTEGER"/>
        <result column="taskEndTime" property="taskEndTime" jdbcType ="TIMESTAMP"/>
        <result column="taskSubmitTime" property="taskSubmitTime" jdbcType ="TIMESTAMP"/>
    </resultMap>

    <select id="getAllTask" resultMap="Task">
        select a.task_id,  b.name u_id ,a.taskTitle, a.taskType, a.taskRequire, a.taskDescribe, a.reward, a.taskState,
            a.taskEndTime, a.taskSubmitTime from task a, user b where a.u_id = b.u_id
    </select>

    <insert id="addTask" parameterType="com.geek.entity.Task">
        insert into task(task_id,u_id, taskTitle,taskType,
         taskRequire,taskDescribe,reward,
         taskState, taskEndTime, taskSubmitTime )
        VALUES
        (
         #{task_id},
         #{u_id},
         #{taskTitle},
           #{taskType},
           #{taskRequire},
           #{taskDescribe},
           #{reward},
           #{taskState},
            #{taskEndTime},
            #{taskSubmitTime}
        )
    </insert>

</mapper>